export type ArcadeRuleField = {
  label: string
  bodyMd: string
  note?: string
  badges?: string[]
}

export type ArcadeRuleSection = {
  id: string
  title: string
  fields: ArcadeRuleField[]
}

export const ARCADE_RULEBOOK_SECTIONS: ArcadeRuleSection[] = [
  {
    id: 'arcade-overview',
    title: '대회 전체 구조',
    fields: [
      {
        label: '한눈에 보기',
        bodyMd: `아케이드는 **지역 예선 4개 차수(서울/대전/광주/부산)**와 **Top 8 결선**으로 진행됩니다.

| 단계 | 지역별 선발 | 전체 합계 |
|---|---:|---:|
| 온라인 예선 (스코어 어택) | 16명 | 64명 |
| 오프라인 예선 (Swiss) | 2명 | 8명 |
| Top 8 결선 | - | 8명 |

흐름: **온라인 예선 -> 오프라인 예선 -> Top 8 결선**`,
        badges: ['핵심', '2026'],
      },
      {
        label: '차수/지역',
        bodyMd: `- 1차: 서울
- 2차: 대전
- 3차: 광주
- 4차: 부산

참가자는 **한 차수만 선택 가능**하며, 온라인 예선 탈락 후 다른 차수 재도전은 불가합니다.`,
      },
    ],
  },
  {
    id: 'arcade-online',
    title: '온라인 예선 규정',
    fields: [
      {
        label: '진행 방식',
        bodyMd: `지정 과제곡 2곡 플레이 후 **합산 점수**로 순위를 결정하는 스코어 어택입니다.

| 과제곡 | 난이도 |
|---|---|
| うそうそ時 | Lv.8 |
| 輝きを求めて | Lv.8 |`,
      },
      {
        label: '선발/동점 처리',
        bodyMd: `- 각 차수별 상위 **16명**이 오프라인 예선 진출
- 동점 시 **먼저 엔트리한 참가자 우선**
- 엔트리 취소 불가`,
      },
    ],
  },
  {
    id: 'arcade-swiss',
    title: '오프라인 예선 (Swiss Stage)',
    fields: [
      {
        label: '핵심 규칙',
        bodyMd: `- 참가자: 차수별 온라인 상위 16명
- 매치: 1:1, 각자 1곡 선곡(총 2곡 합산)
- 탈락: **2패 누적 즉시 탈락**
- 최대 4라운드 진행`,
        badges: ['중요'],
      },
      {
        label: '매칭 방식',
        bodyMd: `- 1R: 온라인 순위 기반 (1 vs 16, 2 vs 15, ...)
- 2R 이후: **동일 전적 그룹끼리** 매칭
- 그룹 내 정렬: 초기 시드 기준 상위 vs 하위
- 인원 홀수(노쇼/기권 등): 1명 부전승(Bye, 1승)`,
      },
      {
        label: '진영/타이브레이커',
        bodyMd: `- 진영 선택(1P/2P): 초기 시드 상위자가 선택
- 2곡 합산 동점 시: 지정 곡풀에서 랜덤 1곡으로 재경기
- 승부가 날 때까지 반복`,
      },
      {
        label: '스테이지 종료 판정',
        bodyMd: `- **4-0**: 결선 자동 진출
- **3-1**: 3-1 결정전 진출
- 2패 누적: 탈락`,
      },
    ],
  },
  {
    id: 'arcade-decider-seeding',
    title: '추가 선발전/시드 배정',
    fields: [
      {
        label: '3-1 결정전',
        bodyMd: `Swiss 종료 후 3-1 참가자 대상으로 1회 스코어 어택.

| 과제곡 | 난이도 | 결과 |
|---|---|---|
| 大空と太鼓の踊り | Lv.9 | 최고 점수 1명 결선 진출 |`,
      },
      {
        label: '결선 시드 배정전',
        bodyMd: `지역별 2명(4-0 자동 진출자 + 3-1 선발자)이 1회 플레이로 결선 시드를 정합니다.

| 과제곡 | 난이도 | 용도 |
|---|---|---|
| タイコロール | Lv.10 | A/B 그룹 내 시드 산정 |`,
      },
    ],
  },
  {
    id: 'arcade-finals',
    title: 'Top 8 결선 규정',
    fields: [
      {
        label: '대진 구조',
        bodyMd: `결선은 단판 토너먼트입니다.

| 라운드 | 방식 | 경기 수 |
|---|---|---:|
| 8강 | 1:1 단판 | 4 |
| 4강 | 1:1 단판 | 2 |
| 3·4위전 | 1:1 단판 | 1 |
| 결승 | 1:1 단판 | 1 |

8강은 **A그룹(4-0 진출자) vs B그룹(3-1 진출자)** 크로스 시딩으로 편성됩니다.

- Match 1: A1 vs B4
- Match 2: A2 vs B3
- Match 3: A3 vs B2
- Match 4: A4 vs B1`,
      },
      {
        label: '곡 준비/재사용',
        bodyMd: `- 결선 참가자는 1인당 **총 5곡 사전 제출**
- 대회 시작 후 참가자 곡 목록 공개
- 한 번 플레이한 곡은 이후 라운드에서 재사용 불가
- 밴당한 곡은 소모되지 않음(다음 라운드 재사용 가능)`,
      },
    ],
  },
  {
    id: 'arcade-banpick-scoring',
    title: '밴픽/점수/재경기',
    fields: [
      {
        label: '밴픽 절차',
        bodyMd: `공통: **A 밴 -> B 밴 -> A 픽 -> B 픽**

- 8강/4강/3·4위전: 각자 1곡 픽
- 결승: 각자 2곡 픽`,
      },
      {
        label: '라운드별 점수 합산',
        bodyMd: `- 8강: 각자 1곡(총 2곡) 합산
- 4강: 각자 1곡 + 과제곡 1곡(총 3곡) 합산
- 3·4위전: 각자 1곡 + 과제곡 1곡(총 3곡) 합산
- 결승: 각자 2곡 + 과제곡 1곡(총 5곡) 합산`,
      },
      {
        label: '플레이 규정',
        bodyMd: `- 선곡곡: 해당 곡 선곡자가 1P/2P 선택
- 과제곡: 직전까지 합산 점수 우위자가 1P/2P 선택
- 과제곡이 첫 곡인 경우 시드 상위자 선택
- 시드 상위자 선곡곡부터 플레이, 과제곡은 마지막
- 판정 조절 외 옵션(랜덤/미러 등) 사용 불가`,
        badges: ['옵션 제한'],
      },
      {
        label: '동점/기기 트러블',
        bodyMd: `- 동점 시: 동점이 발생한 마지막 곡 동일 조건 재대결
- 재대결도 동점이면: 해당 곡 **양(良) 개수** 많은 선수 승리
- 기기 오류(프레임 드랍/입력 불량 등)는 운영진 판단 하에 재경기
- 선수 과실 미스는 재경기 사유 아님`,
      },
      {
        label: '안내',
        bodyMd: `이 페이지는 다음 문서를 기준으로 구성되었습니다.

- \`아케이드_예선_룰북 (3).docx\`
- \`아케이드_결선_룰북.docx\`

세부 규정은 운영 공지에 따라 변경될 수 있습니다.`,
      },
    ],
  },
]
